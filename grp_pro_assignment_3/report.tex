\documentclass[a4paper,11pt]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{xcolor}

\renewcommand\familydefault{\sfdefault}
\usepackage{tgheros}
\usepackage[defaultmono]{droidmono}

\usepackage{amsmath,amssymb,amsthm,textcomp}
\usepackage{enumerate}
\usepackage{multicol}
\usepackage{tikz}
\usetikzlibrary{arrows}

\usepackage{geometry}
\geometry{total={210mm,297mm},
left=25mm,right=25mm,%
bindingoffset=0mm, top=20mm,bottom=20mm}


\linespread{1.3}

\newcommand{\linia}{\rule{\linewidth}{0.5pt}}

% custom theorems if needed
\newtheoremstyle{mytheor}
    {1ex}{1ex}{\normalfont}{0pt}{\scshape}{.}{1ex}
    {{\thmname{#1 }}{\thmnumber{#2}}{\thmnote{ (#3)}}}

\theoremstyle{mytheor}
\newtheorem{defi}{Definition}

% my own titles
\makeatletter
\renewcommand{\maketitle}{
\begin{center}
\vspace{2ex}
{\huge \textsc{\@title}}
\vspace{1ex}
\\
\linia\\
\@author \hfill \@date
\vspace{4ex}
\end{center}
}
\makeatother
%%%

% custom footers and headers
\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{}
\lfoot{Assignment \textnumero{} 2}
\cfoot{}
\rfoot{Page \thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
%

% code listing settings
\usepackage{listings}
\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    aboveskip={1.0\baselineskip},
    belowskip={1.0\baselineskip},
    columns=fixed,
    extendedchars=true,
    breaklines=true,
    tabsize=4,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=lines,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    keywordstyle=\color[rgb]{0.627,0.126,0.941},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{01,0,0},
    numbers=left,
    numberstyle=\small,
    stepnumber=1,
    numbersep=10pt,
    captionpos=t,
    escapeinside={\%*}{*)}
}

\tikzstyle{arn_n} = [circle, white, font=\bfseries, draw=black, fill=black, align=center, inner sep=0pt,text width=1.5em, text centered]% black node
\tikzstyle{arn_r} = [circle, red, draw=red, align=center, inner sep=0pt,text width=1.5em, text centered, very thick]% red node
\tikzstyle{arn_x} = [rectangle, draw=black, align=center, inner sep=0pt,minimum width=0.5em, minimum height=0.5em]% NIL 'node'

%%%----------%%%----------%%%----------%%%----------%%%

\begin{document}

\title{Programming Assignment \textnumero{} 3}

\author{Harsh Sinha(14265), Deepak Gangwar(14208)}

\date{1/04/2017}

\maketitle

\section*{Problem 1}
\subsection*{Part A}
\begin{center}
 \begin{tabular}{||c c c c c c||} 
 \hline
  & $n = 10^2$ & $n = 10^3$ & $n = 10^4$ & $n = 10^5$ & $n = 10^6$\\ [0.5ex] 
 \hline\hline
 Average running time(Sec.) \\of QuickSort & $1.43 x 10^-5$ & $1.24 x 10^-4$ & $1.25 x 10^-3$ & $1.53 x 10^-2$ &\\ 
 \hline
 Average running time(Sec.) \\of MergeSort & $2.23 x 10^-5$ & $1.81 x 10^-4$ & $1.83 x 10^-3$ & $2.16 x 10^-2$ &\\
 \hline
 Average number of \\comparisons in
QuickSort & 346 & 5797 & 80443 & 1034672 &\\
 \hline
 Average number of \\comparisons in
MergeSort & 269 & 4351 & 60226 & 768173 &\\
 \hline
 No. of times MergeSort \\had lesser no.
of comparisons \\than QuickSort & 946 & 1000 & 1000 & 1000 &\\ [1ex] 
 \hline
\end{tabular}
\end{center}

\subsection*{Part B}
\begin{center}
 \begin{tabular}{||c c c c c c||} 
 \hline
  & $n = 10^2$ & $n = 10^3$ & $n = 10^4$ & $n = 10^5$ & $n = 10^6$\\ [0.5ex] 
 \hline\hline
 Average running time(Sec.) \\of QuickSort & $1.43 x 10^-5$ & $1.24 x 10^-4$ & $1.25 x 10^-3$ & $1.53 x 10^-2$ &\\ 
 \hline
 Average number of \\comparisons in
QuickSort & 346 & 5797 & 80443 & 1034672 &\\
 \hline
Percentage of cases \\when running time
of QuickSort \\exceeds average by 5\% & 777 & 736 & 866 & 961 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 10\% & 96 & 41 & 6 & 23 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 20\% & 46 & 65 & 25 & 5 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 30\% & 27 & 49 & 45 & 1 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 40\% & 18 & 43 & 31 & 3 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 50\% & 18 & 9 & 9 & 1 &\\
 \hline
 Percentage of cases \\when running time
of QuickSort \\exceeds average by 100\% & 11 & 35 & 16 & 4 &\\
 \hline
\end{tabular}
\end{center}

\section*{Problem 2}
\subsection*{Part A}
\textbf{Pseudo Code: }
\begin{lstlisting}[label={list:first},caption=Op, mathescape = true]
void Op (int c[],int low, int high)
{
	n $\leftarrow$ high - low + 1; //number of elements between high and low index
	if(n <= 1) //base case
	    return;
    two[],one[],zero[];
    for (i = low,i < high,i++){
        if(i-low < size(two)) c[i] = two[i - low];
        if(i-low < size(one)) c[i] = one[i - low];
        if(i-low < size(zero)) c[i] = zero[i - low];
    }
    c[] = two[] + one[] + zero[]; //in O(n)
    free(two);free(one);free(zero);
    Op(c, low , low+size(two)-1);
    Op(c, low+size(two) , low+size(two)+size(one)-1);
    Op(c, low+size(two)+size(one) , low+size(two)+size(one)+size(zero)-1);
}
\end{lstlisting}
\begin{lstlisting}[label={list:first},caption=Query, mathescape = true]
c = Op(c,0,n-1); //c is the input array of Size n
b[n+1];
b[0] $\leftarrow$ 0;
	for(int64_t i = 0; i < n;i++){
		b[i+1] = b[i] + c[i];
	}
void Query(i,j,b){
    return b[j+1] - b[i];
}
\end{lstlisting}

\textbf{Time Complexity: }\\
Let the size of input array is \textbf{n} and number of queries is \textbf{q}.\\
\[T_{Op}(n) = cn + 3 * T_{Op}(n/3) \textit{\ and\ } T_{Op}(1) = 1 \]
\[\implies T_{Op}(n) = nlogn\]\\
Preprocessing for Query is O(n).\\
\[T_{Query} = q * O(1)\\\]
\[\implies T_{Query} = O(q)\]\\

\textbf{Space Complexity: }\\
in Op three arrays are made with total size of n but they are being freed before the recursive call so extra space needed is of order n.\\
\textbf{Space Complexity of Op = O(n)}\\
similarly for Query a new array is maintained.\\
So, \textbf{Space Complexity of Query = O(n)}\\
\end{document}
